@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================================================================
   Base styles that integrate with VS Code theming
   ============================================================================ */

:root {
  /* Fallback values for standalone development */
  --vscode-editor-background: #1e1e1e;
  --vscode-editor-foreground: #d4d4d4;
  --vscode-panel-border: #3c3c3c;
  --vscode-tab-activeBackground: #1e1e1e;
  --vscode-tab-inactiveBackground: #2d2d2d;
  --vscode-input-background: #3c3c3c;
  --vscode-editor-selectionBackground: #264f78;
  --vscode-list-hoverBackground: #2a2d2e;
  --vscode-focusBorder: #007acc;
  --vscode-font-size: 13px;
  --vscode-font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  --vscode-editor-font-family: 'SF Mono', Menlo, Monaco, 'Courier New', monospace;
}

body {
  margin: 0;
  padding: 0;
  background-color: var(--vscode-editor-background);
  color: var(--vscode-editor-foreground);
  font-family: var(--vscode-font-family);
  font-size: var(--vscode-font-size);
  overflow-y: hidden;
  overflow-x: hidden;
}

/* ============================================================================
   Tabulator Customization - Light Theme
   ============================================================================ */

:root.light-theme,
.light-theme {
  --table-bg: #ffffff;
  --table-border: #d0d0d0;
  --header-bg: #f5f5f5;
  --header-border: #c0c0c0;
  --header-text: #333333;
  --header-hover: #e8e8e8;
  --row-bg: #ffffff;
  --row-even-bg: #f9f9f9;
  --row-hover-bg: #f0f0f0;
  --row-border: #e0e0e0;
  --cell-border: #e8e8e8;
  --cell-text: #333333;
  --sort-arrow: #555555;
  --scrollbar-track: #f5f5f5;
  --scrollbar-thumb: #c0c0c0;
  --scrollbar-thumb-hover: #a0a0a0;
  --selection-bg: #a9dcff;
  --selection-bg-header: #a9dcff;
}

:root.dark-theme,
.dark-theme {
  --table-bg: #1e1e1e;
  --table-border: #3c3c3c;
  --header-bg: #252526;
  --header-border: #454545;
  --header-text: #cccccc;
  --header-hover: #2a2d2e;
  --row-bg: #1e1e1e;
  --row-even-bg: #252526;
  --row-hover-bg: #2a2d2e;
  --row-border: #3c3c3c;
  --cell-border: #3c3c3c;
  --cell-text: #cccccc;
  --sort-arrow: #cccccc;
  --scrollbar-track: #1e1e1e;
  --scrollbar-thumb: #424242;
  --scrollbar-thumb-hover: #4e4e4e;
  --selection-bg: #042f4b;
  --selection-bg-header: #042f4b;
}

.tabulator {
  background-color: var(--table-bg);
  border: 1px solid var(--table-border);
  font-family: var(--vscode-editor-font-family);
  font-size: 12px;
}

.tabulator .tabulator-header {
  background-color: var(--header-bg);
  border-bottom: 2px solid var(--header-border);
}

.tabulator .tabulator-header .tabulator-col {
  background-color: transparent;
  border-right: 1px solid var(--table-border);
}

.tabulator .tabulator-header .tabulator-col .tabulator-col-content {
  color: var(--header-text);
  font-weight: 600;
  padding: 6px 8px;
}

.tabulator .tabulator-header .tabulator-col.tabulator-sortable:hover {
  background-color: var(--header-hover);
}

.tabulator .tabulator-tableholder {
  background-color: var(--vscode-editor-background);
  overflow-x: auto !important;
}

.tabulator .tabulator-row {
  background-color: var(--row-bg);
  border-bottom: 1px solid var(--row-border);
}

.tabulator .tabulator-row.tabulator-row-even {
  background-color: var(--row-even-bg);
}

.tabulator .tabulator-row:hover {
  background-color: var(--row-hover-bg);
}

.tabulator .tabulator-row .tabulator-cell {
  border-right: 1px solid var(--cell-border);
  color: var(--cell-text);
  padding: 4px 8px;
}

/* Selected cells - blue selection box */
.tabulator .tabulator-row .tabulator-cell.tabulator-selected {
  background-color: transparent !important;
  border: 2px solid #007acc !important;
  box-shadow: inset 0 0 0 1px #007acc;
}

.tabulator .tabulator-row.tabulator-selected {
  background-color: transparent;
}

.tabulator .tabulator-row.tabulator-selected .tabulator-cell {
  border: 2px solid #007acc !important;
  box-shadow: inset 0 0 0 1px #007acc;
}

/* Range selection highlight - blue border */
.tabulator .tabulator-row .tabulator-cell.tabulator-range-selected {
  background-color: var(--selection-bg) !important;
  border: 1px solid #007acc !important;
  box-shadow: inset 0 0 0 1px #007acc;

}

.tabulator .tabulator-header .tabulator-range-highlight {
  background-color: var(--selection-bg-header) !important;

}


/* Sort arrow styling */
.tabulator .tabulator-header .tabulator-col.tabulator-sortable .tabulator-col-sorter {
  color: var(--sort-arrow);
}

/* Scrollbar styling */
.tabulator .tabulator-tableholder::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

.tabulator .tabulator-tableholder::-webkit-scrollbar-track {
  background: var(--scrollbar-track);
}

.tabulator .tabulator-tableholder::-webkit-scrollbar-thumb {
  background: var(--scrollbar-thumb);
  border-radius: 5px;
}

.tabulator .tabulator-tableholder::-webkit-scrollbar-thumb:hover {
  background: var(--scrollbar-thumb-hover);
}

/* Header popup button styling - ensure it displays inline to the left */
.tabulator .tabulator-header .tabulator-col .tabulator-header-popup-button {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  vertical-align: middle;
  padding: 0 4px;
  margin: 0;
  height: auto;
  border: none;
  background: transparent;
  cursor: pointer;
  opacity: 0.6;
  transition: opacity 0.2s ease;
}

.tabulator .tabulator-header .tabulator-col .tabulator-header-popup-button:hover {
  opacity: 1;
}

.tabulator .tabulator-header .tabulator-col .tabulator-col-content {
  display: flex;
  align-items: center;
  gap: 4px;
}

.tabulator .tabulator-header .tabulator-col .tabulator-col-title {
  flex: 1;
  display: inline-block;
}

/* ============================================================================
   Custom utility classes
   ============================================================================ */

.tab-close-btn {
  opacity: 0;
  transition: opacity 0.15s ease;
}

.tab-item:hover .tab-close-btn {
  opacity: 1;
}

/* Spinner animation */
@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

.spinner {
  animation: spin 1s linear infinite;
}

/* Toast slide-in animation */
@keyframes slide-in {
  from {
    transform: translateX(100%);
    opacity: 0;
  }

  to {
    transform: translateX(0);
    opacity: 1;
  }
}

.animate-slide-in {
  animation: slide-in 0.3s ease-out;
}